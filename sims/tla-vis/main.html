<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TLA Knowledge Graph Architecture - vis.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
    <style>
        body {
            margin: 0;
            padding: 0px;
            font-family: Arial, sans-serif;
            background-color: aliceblue;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        #mynetworkid {
            width: 100%;
            height: 600px;
            border: 1px solid lightgray;
            background-color: aliceblue;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        #info-box {
            width: 100%;
            height: 80px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            box-sizing: border-box;
            font-size: 14px;
            line-height: 1.4;
            overflow-y: auto;
        }
        
        .legend {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            font-size: 12px;
        }
        
        .legend-item {
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 5px;
        }
        
        .legend-color {
            display: inline-block;
            width: 15px;
            height: 15px;
            margin-right: 5px;
            border-radius: 3px;
            vertical-align: middle;
        }
    </style>
</head>
<body>    
    <div id="mynetworkid"></div>
    
    <div id="info-box">
        <strong>Interactive TLA Architecture Diagram</strong><br>
        Click on any component to see detailed descriptions. The Knowledge Graph Engine serves as the central hub connecting all TLA data pillars and enabling intelligent relationships between learners, competencies, and learning resources.
    </div>
    
    <div class="legend">
        <strong>Component Categories:</strong><br>
        <div class="legend-item"><span class="legend-color" style="background-color: #FFA500;"></span>Core Knowledge</div>
        <div class="legend-item"><span class="legend-color" style="background-color: #20B2AA;"></span>TLA Data Pillars</div>
        <div class="legend-item"><span class="legend-color" style="background-color: #ADD8E6;"></span>Edge Learning</div>
        <div class="legend-item"><span class="legend-color" style="background-color: #FFD700;"></span>AI/ML Analytics</div>
        <div class="legend-item"><span class="legend-color" style="background-color: #7FFFD4;"></span>Data Integration</div>
        <div class="legend-item"><span class="legend-color" style="background-color: #E6E6FA;"></span>Administrative</div>
        <div class="legend-item"><span class="legend-color" style="background-color: #98FB98;"></span>Career Management</div>
    </div>

    <script>
        // Node definitions with categories and descriptions
        const nodes = new vis.DataSet([
            // Core Knowledge Infrastructure (Center) - Orange family
            { 
                id: 'kg', 
                label: 'Knowledge Graph\nEngine', 
                color: '#FFA500', 
                size: 40,
                font: { size: 12, color: 'white' },
                category: 'Core Knowledge',
                description: 'Central semantic hub connecting all TLA data pillars, enabling intelligent relationships between learners, competencies, and learning resources through advanced graph algorithms and semantic reasoning.'
            },
            { 
                id: 'vector', 
                label: 'Vector Store', 
                color: '#8A2BE2', 
                size: 30,
                font: { size: 10, color: 'white' },
                category: 'Core Knowledge',
                description: 'Stores semantic embeddings for competencies, learning content, and learner profiles to enable AI-powered similarity matching, content recommendations, and intelligent search capabilities.'
            },
            { 
                id: 'graphdb', 
                label: 'Graph Database', 
                color: '#4682B4', 
                size: 30,
                font: { size: 10, color: 'white' },
                category: 'Core Knowledge',
                description: 'Stores RCD relationships, learning pathways, and competency networks in a graph structure optimized for complex querying, traversal operations, and relationship discovery.'
            },
            
            // TLA Data Pillar Services - Teal family
            { 
                id: 'xapi', 
                label: 'xAPI Processing\nService', 
                color: '#20B2AA', 
                size: 25,
                font: { size: 10, color: 'white' },
                category: 'TLA Data Pillars',
                description: 'Ingests and normalizes learning experience data using IEEE P9274.1 xAPI standard, processing learning statements from diverse sources into standardized formats for comprehensive learner activity tracking.'
            },
            { 
                id: 'comp_reg', 
                label: 'Competency\nRegistry', 
                color: '#FF6347', 
                size: 25,
                font: { size: 10, color: 'white' },
                category: 'TLA Data Pillars',
                description: 'Manages IEEE 1484.20.1 RCD definitions and frameworks, providing standardized competency descriptions, assessment criteria, and proficiency levels for organizational knowledge management.'
            },
            { 
                id: 'activity_cat', 
                label: 'Learning Activity\nCatalog', 
                color: '#9ACD32', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'TLA Data Pillars',
                description: 'Manages IEEE P2881 learning activity metadata, providing detailed descriptions of training resources, their relationships, prerequisites, and learning outcomes for comprehensive resource discovery.'
            },
            { 
                id: 'learner_prof', 
                label: 'Learner Profile\nService', 
                color: '#FFC0CB', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'TLA Data Pillars',
                description: 'Maintains Enterprise Learner Records tracking individual competency levels, learning history, career progression data, and personalized learning preferences for adaptive instruction.'
            },
            
            // Edge Learning Systems - Light Blue family
            { 
                id: 'lms', 
                label: 'LMS/Learning\nPlatforms', 
                color: '#ADD8E6', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Edge Learning',
                description: 'Traditional Learning Management Systems providing structured course delivery, basic learner tracking, content management, and administrative functions for formal education programs.'
            },
            { 
                id: 'adaptive', 
                label: 'Adaptive Learning\nSystems', 
                color: '#F08080', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Edge Learning',
                description: 'AI-powered personalized learning systems that dynamically adapt content difficulty, pacing, and instructional strategies based on individual learner performance, preferences, and learning patterns.'
            },
            { 
                id: 'sim_vr', 
                label: 'Simulation &\nVR Training', 
                color: '#DDA0DD', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Edge Learning',
                description: 'Immersive learning environments using simulation and virtual reality technologies for hands-on skill development, safe practice scenarios, and experiential learning opportunities.'
            },
            { 
                id: 'mobile', 
                label: 'Mobile Learning\nApps', 
                color: '#90EE90', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Edge Learning',
                description: 'On-demand learning applications for mobile devices enabling just-in-time learning, microlearning opportunities, and continuous access to educational resources regardless of location.'
            },
            
            // AI/ML Analytics Layer - Gold family
            { 
                id: 'search', 
                label: 'Semantic Search\nEngine', 
                color: '#FFD700', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'AI/ML Analytics',
                description: 'Vector-based search engine for discovering relevant content and competencies using semantic similarity matching, natural language processing, and intelligent content recommendation algorithms.'
            },
            { 
                id: 'recommender', 
                label: 'Learning Path\nRecommender', 
                color: '#FF69B4', 
                size: 25,
                font: { size: 10, color: 'white' },
                category: 'AI/ML Analytics',
                description: 'AI-driven system providing personalized learning path recommendations based on competency goals, learner preferences, career objectives, and optimal learning sequence algorithms.'
            },
            { 
                id: 'prediction', 
                label: 'Competency\nPrediction Model', 
                color: '#CD5C5C', 
                size: 25,
                font: { size: 10, color: 'white' },
                category: 'AI/ML Analytics',
                description: 'Machine learning models for analyzing skill gaps, predicting learning outcomes, forecasting competency development timelines, and identifying at-risk learners requiring intervention.'
            },
            
            // Data Integration & Processing - Aquamarine family
            { 
                id: 'mom', 
                label: 'TLA Master\nObject Model', 
                color: '#7FFFD4', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'Data Integration',
                description: 'Data normalization layer standardizing learning events across different systems using the TLA MOM specification, ensuring semantic interoperability and consistent data interpretation.'
            },
            { 
                id: 'lrs', 
                label: 'Federated LRS\nNetwork', 
                color: '#6495ED', 
                size: 25,
                font: { size: 10, color: 'white' },
                category: 'Data Integration',
                description: 'Distributed Learning Record Store network maintaining learner data ownership while enabling cross-system analytics, privacy protection, and scalable data management.'
            },
            { 
                id: 'pipeline', 
                label: 'Real-time Data\nPipeline', 
                color: '#FFA07A', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'Data Integration',
                description: 'Streaming data processing system handling real-time learning events, maintaining data synchronization across systems, and enabling immediate adaptive responses to learner actions.'
            },
            
            // Administrative & Governance - Lavender family
            { 
                id: 'iam', 
                label: 'Identity & Access\nManagement', 
                color: '#B0C4DE', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Administrative',
                description: 'Centralized authentication and authorization system managing user access across all TLA components, ensuring security, compliance, and appropriate data access controls.'
            },
            { 
                id: 'governance', 
                label: 'Data Governance\nDashboard', 
                color: '#E6E6FA', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Administrative',
                description: 'Monitoring and management interface for data quality, compliance, privacy regulations, and stewardship across the TLA ecosystem, ensuring ethical and legal data usage.'
            },
            { 
                id: 'admin', 
                label: 'Admin Console', 
                color: '#FFE4B5', 
                size: 20,
                font: { size: 9, color: 'black' },
                category: 'Administrative',
                description: 'Central administration interface for system configuration, monitoring, performance management, and maintenance of TLA components and services across the distributed architecture.'
            },
            
            // Career & Workforce Management - Green family
            { 
                id: 'career_map', 
                label: 'Career Pathway\nMapper', 
                color: '#98FB98', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'Career Management',
                description: 'Interactive visualization tool mapping career progression routes, required competencies for different organizational roles, and optimal learning sequences for career advancement.'
            },
            { 
                id: 'workforce', 
                label: 'Workforce\nAnalytics', 
                color: '#FFB6C1', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'Career Management',
                description: 'Analytics platform providing organizational insights into capability gaps, readiness levels, workforce development needs, and strategic planning for human capital management.'
            },
            { 
                id: 'credential', 
                label: 'Credential\nVerification', 
                color: '#D8BFD8', 
                size: 25,
                font: { size: 10, color: 'black' },
                category: 'Career Management',
                description: 'Digital credentialing system managing badges, certificates, and micro-credentials with blockchain-based verification capabilities, ensuring authentic and tamper-proof certifications.'
            }
        ]);

        // Edge definitions showing relationships
        const edges = new vis.DataSet([
            // Knowledge Graph as central hub
            { from: 'kg', to: 'vector', arrows: 'to', color: '#2B7CE9' },
            { from: 'kg', to: 'graphdb', arrows: 'to', color: '#2B7CE9' },
            { from: 'kg', to: 'xapi', arrows: 'to', color: '#2B7CE9' },
            { from: 'kg', to: 'comp_reg', arrows: 'to', color: '#2B7CE9' },
            { from: 'kg', to: 'activity_cat', arrows: 'to', color: '#2B7CE9' },
            { from: 'kg', to: 'learner_prof', arrows: 'to', color: '#2B7CE9' },
            
            // Data flow connections
            { from: 'mom', to: 'xapi', arrows: 'to', color: '#5A1A05' },
            { from: 'lrs', to: 'xapi', arrows: 'to', color: '#5A1A05' },
            { from: 'pipeline', to: 'kg', arrows: 'to', color: '#5A1A05' },
            
            // AI/ML connections
            { from: 'vector', to: 'search', arrows: 'to', color: '#C5000B' },
            { from: 'vector', to: 'recommender', arrows: 'to', color: '#C5000B' },
            { from: 'kg', to: 'prediction', arrows: 'to', color: '#C5000B' },
            
            // Edge system connections
            { from: 'lms', to: 'xapi', arrows: 'to', color: '#FF6000' },
            { from: 'adaptive', to: 'recommender', arrows: 'to', color: '#FF6000' },
            { from: 'sim_vr', to: 'xapi', arrows: 'to', color: '#FF6000' },
            { from: 'mobile', to: 'xapi', arrows: 'to', color: '#FF6000' },
            
            // Administrative connections
            { from: 'iam', to: 'kg', arrows: 'to', color: '#97C2FC' },
            { from: 'governance', to: 'kg', arrows: 'to', color: '#97C2FC' },
            { from: 'admin', to: 'kg', arrows: 'to', color: '#97C2FC' },
            
            // Career management connections
            { from: 'career_map', to: 'kg', arrows: 'to', color: '#00FF00' },
            { from: 'workforce', to: 'learner_prof', arrows: 'to', color: '#00FF00' },
            { from: 'credential', to: 'comp_reg', arrows: 'to', color: '#00FF00' },
            
            // Additional logical connections
            { from: 'search', to: 'activity_cat', arrows: 'to', color: '#FFD700', dashes: true },
            { from: 'recommender', to: 'adaptive', arrows: 'to', color: '#FF69B4', dashes: true },
            { from: 'prediction', to: 'workforce', arrows: 'to', color: '#CD5C5C', dashes: true }
        ]);

        // Network options
        const options = {
            layout: {
                improvedLayout: true,
                hierarchical: false
            },
            physics: {
                enabled: true,
                stabilization: { iterations: 200 },
                barnesHut: {
                    gravitationalConstant: -2000,
                    centralGravity: 0.1,
                    springLength: 200,
                    springConstant: 0.05,
                    damping: 0.09
                }
            },
            nodes: {
                shape: 'box',
                margin: 10,
                widthConstraint: { maximum: 150 },
                heightConstraint: { minimum: 50 },
                borderWidth: 2,
                borderWidthSelected: 4,
                chosen: {
                    node: function(values, id, selected, hovering) {
                        values.borderWidth = 3;
                        values.color = values.color + '20'; // Add transparency
                    }
                }
            },
            edges: {
                width: 3,
                smooth: {
                    type: 'continuous',
                    roundness: 0.5
                },
                arrows: {
                    to: { enabled: true, scaleFactor: 2 }
                }
            },
            interaction: {
                hover: true,
                tooltipDelay: 300,
                hideEdgesOnDrag: false,
                hideNodesOnDrag: false
            }
        };

        // Initialize network
        const container = document.getElementById('mynetworkid');
        const data = { nodes: nodes, edges: edges };
        const network = new vis.Network(container, data, options);

        // Handle node selection
        network.on("click", function(params) {
            const infoBox = document.getElementById('info-box');
            
            if (params.nodes.length > 0) {
                const nodeId = params.nodes[0];
                const node = nodes.get(nodeId);
                
                infoBox.innerHTML = `
                    <strong>${node.label.replace(/\n/g, ' ')}</strong> (${node.category})<br>
                    ${node.description}
                `;
            } else {
                infoBox.innerHTML = `
                    <strong>Interactive TLA Architecture Diagram</strong><br>
                    Click on any component to see detailed descriptions. The Knowledge Graph Engine serves as the central hub connecting all TLA data pillars and enabling intelligent relationships between learners, competencies, and learning resources.
                `;
            }
        });

        // Handle hover effects
        network.on("hoverNode", function(params) {
            network.canvas.body.container.style.cursor = 'pointer';
        });

        network.on("blurNode", function(params) {
            network.canvas.body.container.style.cursor = 'default';
        });
    </script>
</body>
</html>